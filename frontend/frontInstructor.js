function add_Question_form(){  var ajax= new XMLHttpRequest();  document.getElementById("testCreation").style="display: none";  document.getElementById("finalGrade").style="display: none";  document.getElementById("lookTests").style="display: none";  document.getElementById("newQuestion").style="display: full";  document.getElementById("title").value="";  document.getElementById("prompt").value="";  document.getElementById("difficulty").value="";  document.getElementById("topic").value="";  document.getElementById("in1").value="";  document.getElementById("out1").value="";  document.getElementById("in2").value="";  document.getElementById("out2").value="";  document.getElementById("in3").value="";  document.getElementById("out3").value="";  document.getElementById("in4").value="";  document.getElementById("out4").value="";  document.getElementById("in5").value="";  document.getElementById("out5").value="";  document.getElementById("in6").value="";  document.getElementById("out6").value="";  document.getElementById("test").innerHTML="";  hideIO();}function sign_out(){  var ajax=new XMLHttpRequest();  ajax.onreadystatechange = function()  {    window.location.pathname = '/~aa2296/frontEnd.html';  }  var send="ucid= &pass= ";  ajax.open("POST", "/~aa2296/frontPhp.php", true);  ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");  ajax.send(send);}function grabQuestions(filter){  var ajax = new XMLHttpRequest();  ajax.onreadystatechange = function()  {    if(ajax.readyState == 4 && ajax.status == 200)    {      var display = document.getElementById("questionBank");      var response = JSON.parse(this.responseText);      var amount = response.length;      var toAdd = '<br><br><table id="table"><tr><td id="col1" width="400px"><b>Problem Title</b></td><td id="col2" width="400px"><b>Prompt</b></td><td id="col3" width="150px"><b>Difficulty</b></td><td class="col4" width="150px"><b>Topic</b></td></tr>';      for(var i=0; i<amount; i++)      {        toAdd += '<tr><td width="400px">'+response[i]["title"]+'</td><td align="left" width="400px">'+response[i]["prompt"]+'</td><td width="150px">'+response[i]["difficulty"]+'</td><td width="150px">'+response[i]["topic"]+'</tr>';      }      toAdd += '</table>';       display.innerHTML+=toAdd;          }  }  document.getElementById("questionBank").innerHTML="";  if(filter == "ShowAll")  {    ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/requestQuestions.php", true);    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var userInfo = "command=getQuestions";     ajax.send(userInfo);  }  else if(filter == "Easy")  {    ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/diff.php", true);    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var userInfo = "difficulty=easy";     ajax.send(userInfo);  }  else if(filter == "Medium")  {    ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/diff.php", true);    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var userInfo = "difficulty=medium";     ajax.send(userInfo);  }  else if(filter == "Hard")  {  ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/diff.php", true);    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var userInfo = "difficulty=hard";     ajax.send(userInfo);  }  else if(filter == "loops")  {    ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/topic.php", true);    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var userInfo = "topic=loops";     ajax.send(userInfo);  }  else if(filter == "dictionary")  {    ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/topic.php", true);    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var userInfo = "topic=dictionary";     ajax.send(userInfo);  }  else if(filter == "lists")  {  ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/topic.php", true);    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var userInfo = "topic=lists";     ajax.send(userInfo);  }  else  {    ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/key.php", true);    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var userInfo = "substring="+filter;     ajax.send(userInfo);  }}function create_test(){  document.getElementById("testCreation").style="display: full";  document.getElementById("finalGrade").style="display: none";  document.getElementById("lookTests").style="display: none";  document.getElementById("test").style="display: none";  document.getElementById("newQuestion").style="display: none";}var ucid="";function checkSign(){  grabQuestions("ShowAll");  var ajax= new XMLHttpRequest();  ajax.onreadystatechange = function()  {    if(ajax.readyState == 4 && ajax.status == 200)    {      document.getElementById("ucidHolder").innerHTML=this.responseText;      ucid=document.getElementById("ucidHolder").innerHTML;      ucid=ucid.trim();      if(ucid=="")      {        window.location.href="/~aa2296/frontEnd.html";      }      else      {      }    }  }  ajax.open("POST", "/~aa2296/frontPhp.php", true);  ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");  var userInfo = "";  ajax.send(userInfo);}function send_test(){  var ajax = new XMLHttpRequest();    ajax.onreadystatechange = function()  {         document.getElementById("test").innerHTML = "Test has been created";     document.getElementById("questionIDs").value="";     document.getElementById("points").value="";     document.getElementById("testTitle").value="";       }    var testTitle = document.getElementById("testTitle").value;  var testQs = document.getElementById("questionIDs").value;  var testPoints = document.getElementById("points").value;    if(((testTitle=="") || (testQs == "") || (testPoints == "")))  {    alert("Please Enter all fields");  }  else  {  document.getElementById("test").style="display: none";    document.getElementById("testCreation").style="display: none";    document.getElementById("lookTests").style="display: none";    document.getElementById("test").style="display: full";    ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/saveExam.php", true);    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var testInfo = "title="+testTitle+"&qids="+testQs+"&points="+testPoints;    ajax.send(testInfo);  }}function add_Question(){  var ajaxResponse = new XMLHttpRequest();  ajaxResponse.onreadystatechange = function()  {    if(ajaxResponse.readyState == 4 && ajaxResponse.status == 200)    {      //var creds=JSON.parse(this.responseText);      document.getElementById("test").style="display: full";      document.getElementById("test").innerHTML="Question has been added";      grabQuestions("ShowAll");    }  }  var title = document.getElementById("title").value;  var prompt = document.getElementById("prompt").value;  var difficulty = document.getElementById("difficulty").value;  var topic = document.getElementById("topic").value;  var in1 = document.getElementById("in1").value;  var out1 = document.getElementById("out1").value;  var in2 = document.getElementById("in2").value;  var out2 = document.getElementById("out2").value;  var in3 = document.getElementById("in3").value;  var out3 = document.getElementById("out3").value;  var in4 = document.getElementById("in4").value;  var out4 = document.getElementById("out4").value;  var in5 = document.getElementById("in5").value;  var out5 = document.getElementById("out5").value;  var in6 = document.getElementById("in6").value;  var out6 = document.getElementById("out6").value;  if(title=="" || prompt=="" || difficulty=="" || topic=="" || in1=="" || out1=="" || in2=="" || out2=="")  {    alert("You must enter all values and atleast 2 test cases");  }  else  {    document.getElementById("newQuestion").style="display: none";    document.getElementById("test").style="display: none";    ajaxResponse.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/addQuestions.php", true);    ajaxResponse.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var questionInfo = "title="+title+"&prompt="+prompt+"&difficulty="+difficulty+"&topic="+topic+"&in1="+in1+"&out1="+out1+"&in2="+in2+"&out2="+out2+"&in3="+in3+"&out3="+out3+"&in4="+in4+"&out4="+out4+"&in5="+in5+"&out5="+out5;    ajaxResponse.send(questionInfo);  }}function checkTests(){  var newAjax = new XMLHttpRequest();  newAjax.onreadystatechange = function()  {    if(newAjax.readyState == 4 && newAjax.status == 200)    {      var display = document.getElementById("lookTests");      display.innerHTML="";      var response = JSON.parse(this.responseText);      var amount = response.length;      var toAdd = '<br><br><table><tr><td width="150px"><b>Test Title</b></td><td width="150px"><b>Student ID</b></td><td></td></tr>';      for(var i=0; i<amount; i++)      {        toAdd += '</tr><tr><td width="150px">'+response[i]["etitle"]+'</td><td width="150px">'+response[i]["ucid"]+'</td><td><input type="button" value="Finalize this Grade" onclick="gradeTest(\''+response[i]["eid"]+'\',\''+response[i]["ucid"]+'\')"></tr>';      }      toAdd += '</table>';       display.innerHTML+=toAdd;    }   }  document.getElementById("testCreation").style="display: none";  document.getElementById("finalGrade").style="display: none";  document.getElementById("newQuestion").style="display: none";  document.getElementById("lookTests").style="display: full";  newAjax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/gradeExams.php", true);  newAjax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");  var send="";  newAjax.send(send);}function gradeTest(eid, ucid){  var ajax = new XMLHttpRequest();  ajax.onreadystatechange = function()  {    if(ajax.readyState == 4 && ajax.status == 200)    {            var display = document.getElementById("finalGrade");      display.innerHTML="";      var response = JSON.parse(this.responseText);      document.getElementById("storeTest").innerHTML = response["eid"];      var toAdd = '<br><table id="testT"><tr><td width="150px">Test Title</td><td width="150px">UCID</td></tr>';      toAdd += '<tr><td width="150px">'+response["etitle"]+'</td><td width="150px">'+response["ucid"]        +'</td></tr>';      toAdd += '</table>';      toAdd+='<div><table id="questionTable">';      var questions = response["questions"];      for(var i=0; i<questions.length; i++)      {        toAdd +='<tr><td>Question Title: '+questions[i]["qtitle"]+'</td></tr>';        toAdd +='<tr><td>Question Prompt: '+questions[i]["prompt"]+'</td></tr>';        toAdd +='<tr><td>The Student Answer: </td></tr>';        toAdd +='<tr><td style="white-space: pre-wrap">'+questions[i]["sol"]+'</td></tr>';        toAdd +='<tr><td>The Given Rubric: '+questions[i]["rubric"]+'</td></tr>';        toAdd +='<tr><td style="display: none">'+questions[i]["qid"]+'</td></tr>';        toAdd +='<tr><td>Grade for Problem: <input type="text" id="points" value="'+questions[i]["autoPoints"]+'"/></td></tr>';         toAdd +='<tr><td><textarea rows="10" cols="30" id="comment" placeholder="Enter Comment here"></textarea></td></tr>';      }      toAdd += '</table></div>';       toAdd += '<br><input type="button" value="Submit Final Grading" onclick="submitGrade();"/>';      display.innerHTML+=toAdd;                    }        }  document.getElementById("lookTests").style="display: none";  document.getElementById("finalGrade").style="display: full";  ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/reviewStudentExam.php", true);  ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");  var info ="eid="+eid+"&ucid="+ucid;  ajax.send(info);}function submitGrade(){  var ajax = new XMLHttpRequest();  ajax.onreadystatechange= function()  {    document.getElementById("finalGrade").style="display: none";    document.getElementById("test").style="display: full";    document.getElementById("test").innerHTML="Test Graded";  }  var eid = document.getElementById("eidToGrade").value;  var ucid = document.getElementById("ucidToGrade").value;  var qtable=document.getElementById("questionTable");    var tosubmit = '{"eid":"'+eid+'",'    +'"ucid":"'+ucid+'",';  tosubmit += '"questions":[';  for(var i=5; i<qtable.rows.length; i+=8)  {    tosubmit += '{"qid":"'+qtable.rows[i].cells[0].innerHTML+'",';    tosubmit += '"points":"'+qtable.rows[i+1].cells[0].children[0].value+'",';    tosubmit += '"comment":"'+qtable.rows[i+2].cells[0].children[0].value+'"},';  }  tosubmit = tosubmit.substring(0, tosubmit.length - 1);  tosubmit+=']}';  var jsonSent = "json="+tosubmit;  ajax.open("POST", "https://web.njit.edu/~gc288/490/submitFinalGrade.php", true);  ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");  ajax.send(jsonSent);  }function addIO4(){  document.getElementById("IO4").style="display: full";  document.getElementById("IO3b").style="display: none";  document.getElementById("IO4b").style="display: full";}function addIO5(){  document.getElementById("IO5").style="display: full";  document.getElementById("IO4b").style="display: none";  document.getElementById("IO5b").style="display: full";}function addIO6(){  document.getElementById("IO6").style="display: full";  document.getElementById("IO5b").style="display: none";}function hideIO(){  document.getElementById("IO3b").style="display: full";  document.getElementById("IO4").style="display: none";  document.getElementById("IO5").style="display: none";  document.getElementById("IO6").style="display: none";  document.getElementById("IO4b").style="display: none";  document.getElementById("IO5b").style="display: none";}