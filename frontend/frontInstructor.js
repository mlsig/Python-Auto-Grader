function add_Question_form(){  var ajax= new XMLHttpRequest();  document.getElementById("testCreation").style="display: none";  document.getElementById("finalGrade").style="display: none";  document.getElementById("lookTests").style="display: none";  document.getElementById("newQuestion").style="display: full";  document.getElementById("title").value="";  document.getElementById("prompt").value="";  document.getElementById("difficulty").value="";  document.getElementById("topic").value="";  document.getElementById("in1").value="";  document.getElementById("out1").value="";  document.getElementById("in2").value="";  document.getElementById("out2").value="";  document.getElementById("in3").value="";  document.getElementById("out3").value="";  document.getElementById("in4").value="";  document.getElementById("out4").value="";  document.getElementById("in5").value="";  document.getElementById("out5").value="";  document.getElementById("in6").value="";  document.getElementById("out6").value="";  document.getElementById("test").innerHTML="";  hideIO();}function sign_out(){  var ajax=new XMLHttpRequest();  ajax.onreadystatechange = function()  {    window.location.pathname = '/~aa2296/frontEnd.html';  }  var send="ucid= &pass= ";  ajax.open("POST", "/~aa2296/frontPhp.php", true);  ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");  ajax.send(send);}function grabQuestions(filter){  var ajax = new XMLHttpRequest();  ajax.onreadystatechange = function()  {    if(ajax.readyState == 4 && ajax.status == 200)    {      var display = document.getElementById("questionBank");      var response = JSON.parse(this.responseText);      var amount = response.length;      var toAdd = '<br><br><div style="padding-bottom: 200px;"><table id="table" style="border-spacing: 10px 10px;"><tr><td id="col1" width="200px"><b>Problem Title</b><td id="col2" width="500px"><b>Prompt</b></td><td id="col3" width="150px"><b>Difficulty</b></td><td class="col4" width="150px"><b>Topic</b></td></tr>';      var i=0;      for(; i<amount; i++)      {        toAdd += '<tr><td width="200px">'+response[i]["title"]+'</td><td align="left" width="500px">'+response[i]["prompt"]+'</td><td width="150px">'+response[i]["difficulty"]+'</td><td width="150px">'+response[i]["topic"]+'</td></tr>';      }      toAdd += '</table>';      if(i==0)      {        toAdd+='<p>No values in the table</p>';      }      toAdd+='</div>';       display.innerHTML+=toAdd;          }  }  document.getElementById("questionBank").innerHTML="";  if(filter == "ShowAll")  {    ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/requestQuestions.php", true);    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var userInfo = "command=getQuestions";     ajax.send(userInfo);  }  else if(filter == "Easy")  {    ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/diff.php", true);    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var userInfo = "difficulty=easy";     ajax.send(userInfo);  }  else if(filter == "Medium")  {    ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/diff.php", true);    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var userInfo = "difficulty=medium";     ajax.send(userInfo);  }  else if(filter == "Hard")  {  ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/diff.php", true);    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var userInfo = "difficulty=hard";     ajax.send(userInfo);  }  else if(filter == "for")  {    ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/topic.php", true);    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var userInfo = "topic=for";     ajax.send(userInfo);  }  else if(filter == "while")  {    ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/topic.php", true);    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var userInfo = "topic=while";     ajax.send(userInfo);  }  else if(filter == "print")  {  ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/topic.php", true);    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var userInfo = "topic=print";     ajax.send(userInfo);  }  else  {    ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/key.php", true);    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var userInfo = "substring="+filter;     ajax.send(userInfo);  }}function create_test(){  document.getElementById("finalGrade").style="display: none";  document.getElementById("lookTests").style="display: none";  document.getElementById("test").style="display: none";  document.getElementById("newQuestion").style="display: none";  window.location.pathname = '/~aa2296/testCreation.php';}var ucid="";function checkSign(){  grabQuestions("ShowAll");  var ajax= new XMLHttpRequest();  ajax.onreadystatechange = function()  {    if(ajax.readyState == 4 && ajax.status == 200)    {      document.getElementById("ucidHolder").innerHTML=this.responseText;      ucid=document.getElementById("ucidHolder").innerHTML;      ucid=ucid.trim();      if(ucid=="")      {        window.location.href="/~aa2296/frontEnd.html";      }      else      {      }    }  }  ajax.open("POST", "/~aa2296/frontPhp.php", true);  ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");  var userInfo = "";  ajax.send(userInfo);}function add_Question(){  var ajaxResponse = new XMLHttpRequest();  ajaxResponse.onreadystatechange = function()  {    if(ajaxResponse.readyState == 4 && ajaxResponse.status == 200)    {      //var creds=JSON.parse(this.responseText);      document.getElementById("test").style="display: full";      document.getElementById("test").innerHTML="Question has been added";      grabQuestions("ShowAll");    }  }  var title = document.getElementById("title").value;  var prompt = document.getElementById("prompt").value;  var difficulty = document.getElementById("difficulty").value;  var topic = document.getElementById("topic").value;  var in1 = document.getElementById("in1").value;  var out1 = document.getElementById("out1").value;  var in2 = document.getElementById("in2").value;  var out2 = document.getElementById("out2").value;  var in3 = document.getElementById("in3").value;  var out3 = document.getElementById("out3").value;  var in4 = document.getElementById("in4").value;  var out4 = document.getElementById("out4").value;  var in5 = document.getElementById("in5").value;  var out5 = document.getElementById("out5").value;  var in6 = document.getElementById("in6").value;  var out6 = document.getElementById("out6").value;  if(title=="" || prompt=="" || difficulty=="" || topic=="" || in1=="" || out1=="" || in2=="" || out2=="")  {    document.getElementById("invalid").innerHTML="Invalid Entry";  }  else  {    document.getElementById("invalid").innerHTML="";    document.getElementById("newQuestion").style="display: none";    document.getElementById("test").style="display: none";    ajaxResponse.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/addQuestions.php", true);    ajaxResponse.setRequestHeader("Content-type", "application/x-www-form-urlencoded");    var questionInfo = "title="+title+"&prompt="+prompt+"&difficulty="+difficulty+"&topic="+topic+"&in1="+in1+"&out1="+out1+"&in2="+in2+"&out2="+out2+"&in3="+in3+"&out3="+out3+"&in4="+in4+"&out4="+out4+"&in5="+in5+"&out5="+out5+"&in6="+in6+"&out6="+out6;    ajaxResponse.send(questionInfo);  }}function checkTests(){  var newAjax = new XMLHttpRequest();  newAjax.onreadystatechange = function()  {    if(newAjax.readyState == 4 && newAjax.status == 200)    {      var display = document.getElementById("lookTests");      display.innerHTML="";      var response = JSON.parse(this.responseText);      var amount = response.length;      var toAdd = '<br><br><br><table><tr><td width="150px"><b>Test Title</b></td><td width="150px"><b>Student ID</b></td></tr>';      for(var i=0; i<amount; i++)      {        toAdd += '</tr><tr><td width="150px">'+response[i]["etitle"]+'</td><td width="150px">'+response[i]["ucid"]+'</td><td><input type="button" value="Finalize this Grade" onclick="gradeTest(\''+response[i]["eid"]+'\',\''+response[i]["ucid"]+'\')"></tr>';      }      toAdd += '</table>';       display.innerHTML+=toAdd;    }   }  document.getElementById("testCreation").style="display: none";  document.getElementById("finalGrade").style="display: none";  document.getElementById("newQuestion").style="display: none";  document.getElementById("lookTests").style="display: full";  newAjax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/gradeExams.php", true);  newAjax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");  var send="";  newAjax.send(send);}function gradeTest(eid, ucid){  var ajax = new XMLHttpRequest();  ajax.onreadystatechange = function()  {    if(ajax.readyState == 4 && ajax.status == 200)    {      var display = document.getElementById("finalGrade");      display.innerHTML="";      var response = JSON.parse(this.responseText);            document.getElementById("storeTest").innerHTML = eid;      document.getElementById("ucidToGrade").innerHTML= ucid;      var toAdd = '<br><table id="testT"><tr><td width="150px"><b>Test Title</b></td><td width="150px"><b>UCID</b></td></tr>';      toAdd += '<tr><td width="150px">'+response["etitle"]+'</td><td width="150px">'+response["ucid"]+'</td></tr>';      toAdd+='<tr><td>Test Auto Grade:</td><td>'+response["autoGrade"]+'</td></tr>';      toAdd += '</table>';      toAdd+='<div><table id="questionTable" style="border-spacing: 5px 5px;"><tr><td width="500px"></td><td width="600px"></td></tr>';      var questions = response["questions"];      for(var i=0; i<questions.length; i++)      {        toAdd +='<tr><td colspan="2"><u><b>'+questions[i]["qtitle"]+'</b></u></td><td></td></tr>';        toAdd +='<tr><td colspan="2"><b>'+questions[i]["prompt"]+'</b></td><td></td></tr>';        toAdd +='<tr><td>The Student Answer: </td><td align="left" width="300px">'+questions[i]["sol"]+'</td></tr>';        toAdd +='<tr><td nowrap>Deduction reasoning: </td><td align="left"><font size="-1">';               var deductions='\''+questions[i]["deductions"]+'\'';        var deducts = deductions.split(',');                for(var x=0; x<deducts.length; x++)        {          toAdd+=deducts[x]+'<br>';        }        //toAdd+=deductions;       toAdd += '</font></td></tr>';        toAdd +='<tr><td style="display: none">'+questions[i]["qid"]+'</td></tr>';        toAdd +='<tr><td><br>Grade for Problem: </td><td align="left"><br><input type="text" id="points" size="8" value="'+questions[i]["autoPoints"]+'"> out of '+questions[i]["pointsPossible"]+'</td></tr>';         toAdd +='<tr><td>Instructor Comment: </td><td align="left"><br><textarea rows="3" cols="20" id="comment" placeholder="Enter Comment here"></textarea></td></tr>';        toAdd +='<tr height=20px></tr>';      }      toAdd += '</table></div>';       toAdd += '<input type="button" value="Submit Final Grading" onclick="submitGrade();"/><br><br>';      display.innerHTML+=toAdd;                    }        }  document.getElementById("lookTests").style="display: none";  document.getElementById("finalGrade").style="display: full";  ajax.open("POST", "https://web.njit.edu/~ms2437/cs490/rc/reviewStudentExam.php", true);  ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");  var info ="eid="+eid+"&ucid="+ucid;  ajax.send(info);}function submitGrade(){  var ajax = new XMLHttpRequest();  ajax.onreadystatechange= function()  {    document.getElementById("finalGrade").style="display: none";    document.getElementById("test").style="display: full";    document.getElementById("test").innerHTML="Test Graded";  }  var eidGrade = document.getElementById("storeTest").innerHTML;  var ucidGrade = document.getElementById("ucidToGrade").innerHTML;  var qtable=document.getElementById("questionTable");    var tosubmit = '{"eid":"'+eidGrade+'",'    +'"ucid":"'+ucidGrade+'",';  tosubmit += '"questions":[';  for(var i=5; i<qtable.rows.length; i+=8)  {    tosubmit += '{"qid":"'+qtable.rows[i].cells[0].innerHTML+'",';     tosubmit += '"finalPoints":"'+qtable.rows[i+1].cells[1].children[1].value+'",';    tosubmit += '"comment":"'+qtable.rows[i+2].cells[1].children[1].value+'"},';  }  tosubmit = tosubmit.substring(0, tosubmit.length - 1);  tosubmit+=']}';  var jsonSent = "json="+tosubmit;  ajax.open("POST", "https://web.njit.edu/~gc288/490/submitFinalGrade.php", true);  ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded");  ajax.send(jsonSent);  }function addIO4(){  document.getElementById("IO4").style="display: full";  document.getElementById("IO3b").style="display: none";  document.getElementById("IO4b").style="display: full";}function addIO5(){  document.getElementById("IO5").style="display: full";  document.getElementById("IO4b").style="display: none";  document.getElementById("IO5b").style="display: full";}function addIO6(){  document.getElementById("IO6").style="display: full";  document.getElementById("IO5b").style="display: none";}function hideIO(){  document.getElementById("IO3b").style="display: full";  document.getElementById("IO4").style="display: none";  document.getElementById("IO5").style="display: none";  document.getElementById("IO6").style="display: none";  document.getElementById("IO4b").style="display: none";  document.getElementById("IO5b").style="display: none";}